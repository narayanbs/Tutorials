1. Repeater – A repeater operates at the physical layer. Its job is to regenerate the signal over the same network
before the signal becomes too weak or corrupted to extend the length to which the signal can be transmitted over 
the same network. An important point to be noted about repeaters is that they not only amplify the signal but 
also regenerate it. When the signal becomes weak, they copy it bit by bit and regenerate it

2. Hub –  A hub is a basically multi-port repeater. They operate at the physical layer of the OSI model. 
It is a network hardware device for connecting multiple Ethernet devices together and making them act as 
a single network segment. It has multiple input/output (I/O) ports, in which a signal introduced at the 
input of any port appears at the output of every port except the original incoming.

3. Switch - A network switch connects devices on a computer network by using packet switching to receive 
and forward data to the destination device. A network switch is a multiport network bridge that uses MAC addresses 
to forward data at the data link layer (layer 2) of the OSI model. Some switches can also forward data at the 
network layer (layer 3) by additionally incorporating routing functionality. Such switches are commonly known 
as layer-3 switches or multilayer switches. Unlike hubs, which broadcast the same data out of each port and let 
the devices pick out the data addressed to them, a network switch learns the identities of connected devices 
and then only forwards data to the port connected to the device to which it is addressed.

4. A network bridge is a device that operates at the Link Layer and passes traffic across networks based on MAC addresses. 
As a result, a network bridge is also known as a device that operates at the Layer 2 level. 
It constructs tables of MAC addresses, using the information it gathers about what hosts are connected to each network, 
and bases its judgments about which packets to forward on those tables. A Linux host computer may make use of a hardware bridge 
in order to simulate the functionality of a software bridge.

5. Router: Routers operate at the network layer of the OSI model and connect different networks. 
They direct data packets between networks, making decisions based on IP addresses. Routers play a crucial 
role in determining the most efficient path for data to travel between devices on different subnets.

6. Gateway: Gateways serve as protocol converters, facilitating communication between networks with different 
communication protocols. They play a crucial role in ensuring interoperability in heterogeneous network environments.
Additionally, gateways often act as security checkpoints, implementing firewalls and other security measures.

7. NAT - Network Address Translation. It's a way to map multiple private addresses inside a local network to a 
public IP address before transferring the information onto the internet. An external address, usually routable, 
is the "outside" of the NAT. The machines behind the NAT have an "inside" address that is usually non-routable. 
When a connection is made between an inside address and an outside address, the NAT system in the middle creates 
a forwarding table entry consisting of (outside_ip, outside_port, nat_host_ip, nat_host_port, inside_ip, inside_port). 
Any packet matching the first four parts gets its destination re-written to the last two parts.

If a packet is received that doesn't match an entry in the NAT table, then there is no way for the NAT box to
know where to forward it unless a forwarding rule was manually defined. That's why, by default, a machine behind a NAT device is "protected".

Your home router performs NAT.. The system has an internal address, and our ISP provides us an external IP to which it is mapped by the router. 

Routing
=====================

Before we get into routing, it helps to understand a little bit about how packets find their way to the correct host on a network.
The TCP/IP network model defines a five layer stack that describes the mechanisms necessary to move data packets from one host to another,
whether that host is on the local network or halfway around the world. Each of the layers in the following description of this
model is numbered and also contain the names of the data units that are handled by that layer.

5. Application layer: 
Message This layer consists of the connection protocols required for various network applications to communicate, 
such as HTTP, DHCP, SSH, FTP, SMTP, IMAP, and others. When you request a web page from a remote web site, 
a connection request is sent to the web server and the response is sent back to your host at this layer and
then your browser displays the web page in its window.

4. Transport layer: 
TCP segment. The transport layer provides end-to-end data transport and flow management services that are 
independent of the data and types of protocols being transported. It uses ports such as 80 for HTTP and 25 
for SMTP to make connections between the sending host and the remote host.

3. Internet layer: 
Packet. Packet routing is performed on the Internet layer. This layer is responsible for routing packets
across two or more different networks in order to reach their final destination. This layer uses IP Addresses
and the routing table to determine which device to send the packets to next. If sent to a router, each router
is responsible for sending the data packets only to the next router in the series and not for mapping out the
entire route from the local host to the target host. The Internet layer is mostly about routers talking to routers 
in order to determine the next router in the chain.

2. Data Link layer: 
Frame. The Link layer manages the direct connections between hardware hosts on a single, local, logical, 
physical network. This layer uses the Media Access Control (MAC) addresses embedded in the Network Interface Cards (NICs) 
to identify the physical devices attached to the local network. This layer cannot access hosts that are not on the local network.

1. Physical layer: 
Bits. This is the hardware layer and consists of the NICs and the physical Ethernet cable as well as the 
hardware level protocols used to transmit individual bits that make up the data frames between any two hosts
or other network nodes that are locally connected.


A simple example

So what does that look like when a host is actually sending data on the network using the TCP/IP network model? 
Here is my own made-up description of how data are moved from one network to another. 
In this example, my computer is sending a request to a remote server for a web page.

1. On the application layer, the browser initiates an HTTP connection request message to the remote host, www.example.com, 
to send back the data comprising the contents of a web page. This is the message, and it includes only the IP Address of the remote web server.

2. The transport layer encapsulates the message containing the web page request in a TCP datagram with the IP address 
of the remote web server as the destination. Along with the original request packet, this packet now includes the 
source port from which the request will originate, usually a very high number random port, so that the return data 
knows which port the browser is listening on; and the destination port on the remote host, port 80 in this case.

3. The Internet layer encapsulates the TCP datagram in a packet that also contains both the source and destination IP addresses.

4. The data Link layer uses the Address Resolution Protocol (ARP) to identify the physical MAC address of the default router
and encapsulates the Internet packet in a frame that includes both the source and destination MAC addresses.
Note: source could be NIC card and destination is default router. 

5. The frame is sent over the wire, usually CAT5 or CAT6, from the NIC on the local host to the NIC on the default router.

6. The default router opens the datagram and determines the destination IP address. The router uses its own routing table 
to identify the IP address of the next router that will take the frame onto the next step of its journey. 
The router then re-encapsulates the frame in a new datagram that contains its own MAC as the source and the MAC address 
of the next router and then sends it on through the appropriate interface. 
The router performs its routing task at layer 3, the Internet layer.

Note that switches are invisible to all protocols at layers two and above, so they do not affect the transmission of data in any logical manner.
The function of switches is merely to provide a simple means to connect multiple hosts into a single physical network via lengths of Ethernet cable.

You can use the arp [-n] command to view all of the MAC addresses that your host has stored in its arp table. 
These are always hosts on the local network.

The routing table
-------------------
All network devices, whether they are hosts, routers, or other types of network nodes such as network attached printers,
need to make decisions about where to route TCP/IP data packets. The routing table provides the configuration information 
required to make those decisions.A routing table similar to the very simple one in Figure 1 is used to define the single 
route available to a typical local host and to determine whether to send packets to the default gateway router. 

The route -n command lists the routing table; the -n option displays the results as IP addresses only and does not attempt
to perform a DNS lookup which would replace the IP address with hostnames if they are available. 
The netstat -rn command produces very similar results.

[root@host1 ~]# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.0.254   0.0.0.0         UG    100    0        0 eno1
192.168.0.0     0.0.0.0         255.255.255.0   U     100    0        0 eno1


Components of Routing Table Entries
-----------------------------------
An entry in a routing table is usually a route to a specific network. The basic components of each entry in the routing table are:

Destination address: this refers to the IP address of the destination network.
Gateway/Next Hop: this refers to the next IP address to which the packet is forwarded.
Subnet mask/Netmask: this refers to the class or range of the destination address. It’s used to map the destination address to the right network.
Metric: this assigns a value to each route to ensure that optimal routes are chosen for sending packets. 
In some instances, the metric is the number of hops or number of routers to be crossed to get to the destination network. 
If multiple routes exist, the route with the lowest metric is usually chosen.
Interface: this refers to the outgoing interface that connects to the destination.

Routing decisions
------------------
They are fairly simple for most hosts:

    If the destination host is on the local network, send the data directly to the destination host.
    If the destination host is on a remote network that is reachable via a local gateway listed in the routing table, send it to the explicitly defined gateway.
    If the destination host is on a remote network, and there is no other entry that defines a route to that host, send the data to the default gateway.

These rules simply mean that if all else fails because there is no match, send the packet to the default gateway.

[root@host2 ~]# route -n
Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
192.168.1.24    0.0.0.0         255.255.255.252 U     0      0        0 eth0
192.168.0.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1
192.168.25.0    0.0.0.0         255.255.255.0   U     0      0        0 eth2
0.0.0.0         192.168.1.25    0.0.0.0         UG    0      0        0 eth0

The routing table above, belongs to a Linux host acting as a router that connects to three networks, one of which leads to the Internet. 
The local class C networks, 192.168.0.0/24 on interface eth1, 192.168.25.0/24 on eth2, each have entries in the table, 
as well as the default route that leads to the rest of the world on eth0.

Note that there is still only one default gateway, and that is on interface eth0. However, in addition to the default route entry that 
points directly to the LAN side IP address of the router, there is also an entry for the 192.168.1.24/30 network as a whole. 
That network only contains two usable IP addresses, one, 192.168.1.25/30, for the router LAN side and one, 192.168.1.26/30 for the host itself.

Routing configuration
----------------------
So how does the routing table get configured? For hosts connected to the network using DHCP, the DHCP server provides that configuration 
information for the default route along with DNS, the hosts IP address, and possibly other information such as the IP address for 
an NTP server. For static configurations, it is usually simple, but it can be a bit more complicated sometimes.
